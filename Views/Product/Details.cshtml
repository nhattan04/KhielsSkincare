@{
}
<style>
    .vertical-slider {
        width: 70px;
        max-height: 340px;
        overflow: hidden;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .slider-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow: hidden;
    }

    .slider-images {
        transition: transform 0.5s ease-in-out;
        display: flex;
        flex-direction: column;
    }

        .slider-images img {
            width: 100%;
            margin: 10px 0;
            cursor: pointer;
        }

    .selected-variation {
        border: 1px solid #00a3ff !important;
        background: #f7fcff;
    }

    .selected-item-slider {
        border: 1px solid #000000 !important;
    }
</style>

@model KhielsSkincare.Models.Product

<div class="main-content container pb-5">
    <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="@Url.Action("Index", "Home")" class="text-black">Trang Chủ</a></li>
            <li class="breadcrumb-item active text-black" aria-current="page">Sản phẩm bán chạy</li>
        </ol>
    </nav>

    <div class="c-product__inner row row-cols-2">
        <div class="col d-flex justify-content-around">
            <div class="vertical-slider">
                <div onclick="moveUp()">
                    <i class="fa-solid fa-chevron-up text-black" style="cursor: pointer;"></i>
                </div>

                <div class="slider-wrapper">
                    <div id="sliderImages" class="slider-images">
                        <img class="border" src="~/images/product/@Model.ImageUrl" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image1" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image2" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image3" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image4" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image5" alt="@Model.ProductName" onclick="imageClicked(this)">
                    </div>
                </div>

                <div onclick="moveDown()">
                    <i class="fa-solid fa-chevron-down text-black" style="cursor: pointer"></i>
                </div>
            </div>
            <div id="mainImageContainer">
                <img id="mainImage" style="width: 465px; height: 465px;" src="~/images/product/@Model.ImageUrl" alt="@Model.ProductName" />
            </div>
        </div>
        <div class="product-info col">
            <div class="product-details">
                <h3 class="product-title font-serif fw-bold">@Model.ProductName</h3>
                <span id="main-product-price" class="font-18 fw-500">@Model.ProductVariants.First().Price</span>
                <h6 class="product-description pt-3 pb-3 fw-normal">@Model.Description</h6>
            </div>
            <div class="product-variations">
                <div class="row">
                    @foreach (var variant in Model.ProductVariants)
                    {
                        <div class="col-auto col-lg-4 mb-4 text-center font-12">
                            <a class="variation-item selected-variation d-block border text-decoration-none" href="#" data-price="@variant.Price">
                                <span class="variation-size text-black fw-500">@variant.Size</span>
                                <div class="variation-price text-center">
                                    <span class="d-block text-dark opacity-75">@variant.Price</span>
                                </div>
                            </a>
                        </div>
                    }
                </div>
                <div class="d-flex justify-content-evenly">
                    <div class="input-group pb-3" style="width: 120px;">
                        <button class="btn btn-outline-secondary rounded-0 border-dark border border-end-0" type="button" aria-label="Giảm số lượng" disabled>−</button>
                        <input type="number" class="form-control text-center border-top border-bottom border-0 border-dark bg-white" id="quantity-031565" name="quantity" value="1" min="1" max="5" readonly aria-label="Số lượng">
                        <button class="btn btn-outline-secondary rounded-0 border-dark border border-start-0" type="button" aria-label="Tăng số lượng">+</button>
                    </div>
                    <div class="ms-3" style="width: 375px;">
                        <button type="button" class="rounded-0 btn btn-outline-dark add-to-cart w-100" data-name="Serum Sáng Da" data-price="2650000" data-size="50ml">THÊM VÀO GIỎ HÀNG</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="review-content container">
    <h2 class="fw-500 font-serif text-center pt-5 pb-5 border-top border-bottom text-uppercase m-0">Review Serum Sáng Da Mờ Thâm Vitamin C Kiehl's Clearly Corrective Dark Spot Solution</h2>
    <div class="accordion" id="accordionPanelsStayOpenExample">
        <div class="accordion-item border-bottom border-top border-0">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                    <h4 class="fw-normal font-serif p-3 m-0">Giới Thiệu Chung</h4>
                </button>
            </h2>
            <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show">
                <div class="accordion-body">
                    <div class="container">
                        <span>Thông tin giới thiệu về sản phẩm sẽ được đặt ở đây.</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="accordion-item border-bottom border-top border-0">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                    <h4 class="fw-normal font-serif p-3 m-0">Công Dụng Sản Phẩm</h4>
                </button>
            </h2>
            <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse">
                <div class="accordion-body">
                    <span><strong>Công dụng của sản phẩm được mô tả ở đây.</strong></span>
                </div>
            </div>
        </div>
        <div class="accordion-item border-bottom border-top border-0">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
                    <h4 class="fw-normal font-serif p-3 m-0">Thành Phần Chính</h4>
                </button>
            </h2>
            <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse">
                <div class="accordion-body">
                    <span><strong>Danh sách các thành phần chính của sản phẩm sẽ được hiển thị tại đây.</strong></span>
                </div>
            </div>
        </div>
        <div class="accordion-item border-bottom border-top border-0">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFour" aria-expanded="false" aria-controls="panelsStayOpen-collapseFour">
                    <h4 class="fw-normal font-serif p-3 m-0">Hướng dẫn sử dụng</h4>
                </button>
            </h2>
            <div id="panelsStayOpen-collapseFour" class="accordion-collapse collapse">
                <div class="accordion-body">
                    <span><strong>Thông tin hướng dẫn sử dụng sản phẩm sẽ được trình bày ở đây.</strong></span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let currentIndex = 0;

    function moveUp() {
        const images = document.querySelectorAll('#sliderImages img');
        if (currentIndex < images.length - 1) {
            currentIndex++;
            updateSlider();
        }
    }

    function moveDown() {
        if (currentIndex > 0) {
            currentIndex--;
            updateSlider();
        }
    }

    function updateSlider() {
        const images = document.querySelectorAll('#sliderImages img');
        const offset = currentIndex * -1 * 70; // Thay đổi offset tùy theo chiều cao hình ảnh
        document.getElementById('sliderImages').style.transform = `translateY(${offset}px)`;
    }

    function imageClicked(image) {
        const mainImage = document.getElementById('mainImage');
        mainImage.src = image.src; // Cập nhật hình ảnh chính khi hình nhỏ được nhấn
    }

    document.querySelectorAll('.variation-item').forEach(item => {
        item.addEventListener('click', function () {
            document.querySelectorAll('.variation-item').forEach(variant => {
                variant.classList.remove('selected-variation');
            });
            this.classList.add('selected-variation');
            document.getElementById('main-product-price').textContent = this.getAttribute('data-price');
            document.querySelector('.add-to-cart').setAttribute('data-price', this.getAttribute('data-price'));
            document.querySelector('.add-to-cart').setAttribute('data-size', this.querySelector('.variation-size').textContent);
        });
    });
</script>

@*@{
}
<style>
    .vertical-slider {
        width: 70px;
        max-height: 340px;
        overflow: hidden;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .slider-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow: hidden;
    }

    .slider-images {
        transition: transform 0.5s ease-in-out;
        display: flex;
        flex-direction: column;
    }

        .slider-images img {
            width: 100%;
            margin: 10px 0;
            cursor: pointer;
        }

    .selected-variation {
        border: 1px solid #00a3ff !important;
        background: #f7fcff;
    }

    .selected-item-slider {
        border: 1px solid #000000 !important;
    }
</style>

@model KhielsSkincare.Models.Product

<div class="main-content container pb-5">
    <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="@Url.Action("Index", "Home")" class="text-black">Trang Chủ</a></li>
            <li class="breadcrumb-item activetext-black" aria-current="page">Sản phẩm bán chạy</li>
        </ol>
    </nav>

    <div class="c-product__inner row row-cols-2">
        <div class="col d-flex justify-content-around">
            <div class="vertical-slider">
                <div onclick="moveUp()">
                    <i class="fa-solid fa-chevron-up text-black" style="cursor: pointer;"></i>
                </div>

                <div class="slider-wrapper">
                    <div id="sliderImages" class="slider-images">
                        <img class="border" src="~/images/product/@Model.ImageUrl" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image1" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image2" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image3" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image4" alt="@Model.ProductName" onclick="imageClicked(this)">
                        <img class="border" src="~/images/product/@Model.Image5" alt="@Model.ProductName" onclick="imageClicked(this)">
                    </div>
                </div>

                <div onclick="moveDown()">
                    <i class="fa-solid fa-chevron-down text-black" style="cursor: pointer"></i>
                </div>
            </div>
            <div id="mainImageContainer">
                <img id="mainImage" style="width: 465px; height: 465px;" src="~/images/product/@Model.ImageUrl" alt="@Model.ProductName" />
            </div>

        </div>
        <div class="product-info col">

            <div class="product-details">
                <h3 class="product-title font-serif fw-bold">@Model.ProductName</h3>
                <span id="main-product-price" class="font-18 fw-500">@Model.ProductVariants.First().Price</span>
                <h6 class="product-description pt-3 pb-3 fw-normal">@Model.Description </h6>
            </div>
            <div class="product-variations">
                
                    <div class="row">
                        @foreach (var variant in Model.ProductVariants)
                         {
                        <div class="col-auto col-lg-4 mb-4 text-center font-12">

                            <a class="variation-item selected-variation d-block border text-decoration-none" href="#" data-price="@variant.Price">
                                <span class="variation-size text-black fw-500">@variant.Size</span>
                                <div class="variation-price text-center">
                                    <span class="d-block text-dark opacity-75">@variant.Price</span>
                                </div>
                            </a>
                            
                        </div>
                        }
                    </div>
                

                <div class="d-flex justify-content-evenly">
                    <div class="input-group pb-3" style="width: 120px;">
                        <button class="btn btn-outline-secondary rounded-0 border-dark border border-end-0" type="button" aria-label="Giảm số lượng" disabled>−</button>
                        <input type="number" class="form-control text-center border-top border-bottom border-0 border-dark bg-white" id="quantity-031565" name="quantity" value="1" min="1" max="5" readonly aria-label="Số lượng">
                        <button class="btn btn-outline-secondary rounded-0 border-dark border border-start-0" type="button" aria-label="Tăng số lượng">+</button>
                    </div>
                    <div class="ms-3" style="width: 375px;">
                        <button type="button" class="rounded-0 btn btn-outline-dark add-to-cart w-100" data-name="Serum Sáng Da" data-price="2650000" data-size="50ml">THÊM VÀO GIỎ HÀNG</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="review-content container">
    <h2 class="fw-500 font-serif text-center pt-5 pb-5 border-top border-bottom text-uppercase m-0">Review Serum Sáng Da Mờ Thâm Vitamin C Kiehl's Clearly Corrective Dark Spot Solution</h2>
    <div class="accordion" id="accordionPanelsStayOpenExample">
        <div class="accordion-item border-bottom border-top border-0">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                    <h4 class="fw-normal font-serif p-3 m-0">Giới Thiệu Chung</h4>
                </button>
            </h2>
            <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show">
                <div class="accordion-body">
                    <div class="container">
                        <span>Thông tin giới thiệu về sản phẩm sẽ được đặt ở đây.</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="accordion-item border-bottom border-top border-0">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                    <h4 class="fw-normal font-serif p-3 m-0">Công Dụng Sản Phẩm</h4>
                </button>
            </h2>
            <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse">
                <div class="accordion-body">
                    <span><strong>Công dụng của sản phẩm được mô tả ở đây.</strong></span>
                </div>
            </div>
        </div>
        <div class="accordion-item border-bottom border-top border-0">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
                    <h4 class="fw-normal font-serif p-3 m-0">Thành Phần Chính</h4>
                </button>
            </h2>
            <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse">
                <div class="accordion-body">
                    <span><strong>Danh sách các thành phần chính của sản phẩm sẽ được hiển thị tại đây.</strong></span>
                </div>
            </div>
        </div>
        <div class="accordion-item border-bottom border-top border-0">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFour" aria-expanded="false" aria-controls="panelsStayOpen-collapseFour">
                    <h4 class="fw-normal font-serif p-3 m-0">Hướng dẫn sử dụng</h4>
                </button>
            </h2>
            <div id="panelsStayOpen-collapseFour" class="accordion-collapse collapse">
                <div class="accordion-body">
                    <span><strong>Hướng dẫn sử dụng sản phẩm sẽ được đặt ở đây.</strong></span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var currentIndex = 0;

    function moveUp() {
        const images = document.querySelectorAll("#sliderImages img");
        currentIndex = (currentIndex > 0) ? currentIndex - 1 : images.length - 1;
        updateSlider();
    }

    function moveDown() {
        const images = document.querySelectorAll("#sliderImages img");
        currentIndex = (currentIndex < images.length - 1) ? currentIndex + 1 : 0;
        updateSlider();
    }

    function updateSlider() {
        const sliderImages = document.getElementById("sliderImages");
        const offset = currentIndex * -100; // Assume each image has the same width
        sliderImages.style.transform = `translateY(${offset}%)`;
    }

    function imageClicked(image) {
        const mainImage = document.getElementById("mainImage");
        mainImage.src = image.src;
    }

    // Cập nhật giá khi dung tích được chọn
    document.querySelectorAll('.variation-item').forEach(item => {
        item.addEventListener('click', function (event) {
            event.preventDefault(); // Ngăn không cho điều hướng trang
            // Cập nhật giá hiển thị
            const price = this.getAttribute('data-price');
            document.getElementById('main-product-price').innerText = price;

            // Cập nhật kiểu được chọn
            document.querySelectorAll('.variation-item').forEach(variant => {
                variant.classList.remove('selected-variation'); // Bỏ chọn tất cả
            });
            this.classList.add('selected-variation'); // Chọn biến thể hiện tại
        });
    });

</script>
*@